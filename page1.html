<!DOCTYPE html>
<html>
    <head>
        <title>Grade Calculator</title>
        <link href="style.css" rel="stylesheet" type="text/css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    </head>

    <body>

        <header>
            <h1>Take your time to relieve stress!</h1>
        </header>



        <main>
            <div class="nav">
                <a href="./home.html">Home</a>
                <a href="./page1.html">Grade Calculator</a>
                <a href="./page2.html">Stress Calculator</a>
                <a href="./page3.html">page3</a>
            </div>
            
            <section id="page1">
                <div class="title">
                    <h2>The Ultimate Grade Calculator</h2>
                </div>
                <div class="para">
                    <p>Input your score in the given function and it wil calculate the how much percent 
                        you need for your next exam in order to get your desired score!
                    </p>
                </div>
            </section>

            <section id="JavaScript Test">
                <div class="para">


                    <h4>Class Name:</h4>
                    <input type="text" id="className" value="">
                    <h4>Category 1 Grade:</h4>
                    <input id="g1" value="">
                    <h4>Category 2 Grade:</h4>
                    <input id="g2" value="">
                    <h4>Category 1 Weight:</h4>
                    <input  id="p1" value="">
                    <h4>Category 2 Weight:</h4>
                    <input id="p2" value="">
                    <h4>Final Weight (Optional):</h4>
                    <input id="finalex" value="">
                    <br>
                    <br>
                    <button onclick="gradeCalc()">Calculate!</button>
                    <p id="theClass"></p>
                    <p id="currentGrade"></p>
                    <p id="get93"></p>
                    <p id="get90"></p>
                    <p id="get87"></p>
                    <p id="get83"></p>
                    <p id="get80"></p>

        
                    <div style="display:none" id="texttoshow">
                        <button onclick="reload()" id="reloadButton">Try another class!</button>
                    </div>
                    


                    <script>
                        function reload(){
                            location.reload();
                        }
                        function gradeCalc(){
                            //obtaining information
                            var className = document.getElementById("className").value; 
                            var values = [];
                            var g1 = document.getElementById("g1").value * 1;
                            var g2 = document.getElementById("g2").value * 1;
                            var p1 = document.getElementById("p1").value * 1;
                            var p2 = document.getElementById("p2").value * 1;
                            var finalex = document.getElementById("finalex").value * 1;
                            values.push(g1);
                            values.push(g2);
                            values.push(p1);
                            values.push(p2);
                            var validcounter = 0;
                            for(i = 0; i < 4; i++) {
                                 var temp = values.pop();
                                 if (temp <= 0 | temp > 100) {
                                     validcounter++;
                                 }
                             }
                            document.getElementById("get90").innerHTML = "";
                            document.getElementById("theClass").innerHTML = "";
                            document.getElementById("currentGrade").innerHTML = "";


                            if(validcounter > 0) {
                                alert("Please Input Valid Values");
                                return;
                            }

                            if(className == "") {
                                document.getElementById("theClass").innerHTML = "Information about your unspecified class:"
                            }
                            else {
                                document.getElementById("theClass").innerHTML = "Information about your class, " + className + ":";
                            }
                            
                            var finalGrade = ((g1*p1*.01) + (g2*p2*.01));
                            var weights = (p1)+(p2); 
                            finalGrade = (finalGrade/weights)*100;
                            document.getElementById("currentGrade").innerHTML = "Your final current grade is: " + finalGrade;
                            if(finalex > 0 && finalex <=100) {
                                var toget93 = ((93/100) * (p1+p2+finalex)) - (g1*p1*.01) - (g2*p2*.01);
                                toget93 = (toget93/(.01*finalex));
                                document.getElementById("get93").innerHTML = "You need to get a " + toget93 + " to get a 93";
                                var toget90 = ((90/100) * (p1+p2+finalex)) - (g1*p1*.01) - (g2*p2*.01);
                                toget90 = (toget90/(.01*finalex));
                                document.getElementById("get90").innerHTML = "You need to get a " + toget90 + " to get a 90";
                                var toget87 = ((87/100) * (p1+p2+finalex)) - (g1*p1*.01) - (g2*p2*.01);
                                toget87 = (toget87/(.01*finalex));
                                document.getElementById("get87").innerHTML = "You need to get a " + toget87 + " to get a 87";
                                var toget83 = ((83/100) * (p1+p2+finalex)) - (g1*p1*.01) - (g2*p2*.01);
                                toget83 = (toget83/(.01*finalex));
                                document.getElementById("get83").innerHTML = "You need to get a " + toget83 + " to get a 83";
                                var toget80 = ((80/100) * (p1+p2+finalex)) - (g1*p1*.01) - (g2*p2*.01);
                                toget80 = (toget80/(.01*finalex));
                                document.getElementById("get80").innerHTML = "You need to get a " + toget80 + " to get a 80";
                            }
                            

                            //var test = document.getElementById("reloadButton");
                            //test.value = "Try another class!";
                            document.getElementById("texttoshow").style.display = "inline";
                        }
                    </script>
                </div>
            </section>
        </main>
        <footer>
            <div class="footer">
                <p>Created by Alina, Jin Young (Alex) and Nathan</p>
            </div>
        </footer>
    </body>

</html>